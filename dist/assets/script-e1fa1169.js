import{d as P}from"./index-2a8ce3c2.js";import{b as I}from"./helpers-0bb72b7a.js";function L(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var h=!1;if(typeof window<"u"){var w={get passive(){h=!0}};window.addEventListener("testPassive",null,w),window.removeEventListener("testPassive",null,w)}var b=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),l=[],y=!1,S=-1,d=void 0,f=void 0,T=function(e){return l.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},m=function(e){var t=e||window.event;return T(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},O=function(e){if(f===void 0){var t=!!e&&e.reserveScrollBarGap===!0,s=window.innerWidth-document.documentElement.clientWidth;t&&s>0&&(f=document.body.style.paddingRight,document.body.style.paddingRight=s+"px")}d===void 0&&(d=document.body.style.overflow,document.body.style.overflow="hidden")},D=function(){f!==void 0&&(document.body.style.paddingRight=f,f=void 0),d!==void 0&&(document.body.style.overflow=d,d=void 0)},Y=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},$=function(e,t){var s=e.targetTouches[0].clientY-S;return T(e.target)?!1:t&&t.scrollTop===0&&s>0||Y(t)&&s<0?m(e):(e.stopPropagation(),!0)},q=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!l.some(function(a){return a.targetElement===e})){var s={targetElement:e,options:t||{}};l=[].concat(L(l),[s]),b?(e.ontouchstart=function(a){a.targetTouches.length===1&&(S=a.targetTouches[0].clientY)},e.ontouchmove=function(a){a.targetTouches.length===1&&$(a,e)},y||(document.addEventListener("touchmove",m,h?{passive:!1}:void 0),y=!0)):O(t)}},x=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}l=l.filter(function(t){return t.targetElement!==e}),b?(e.ontouchstart=null,e.ontouchmove=null,y&&l.length===0&&(document.removeEventListener("touchmove",m,h?{passive:!1}:void 0),y=!1)):l.length||D()};function R(n){let e;const t=I(n),s=parseInt(window.getComputedStyle(n).getPropertyValue("--navigation-height"))||0,a=window.matchMedia("(min-width: 1024px)");a.addEventListener("change",g),n.addEventListener("click",P('[data-ref="menuButton"]',A));const v=(()=>{if(!t.menu)return[];const o=t.menu.querySelectorAll(".item:not(.submenu .item)");return Array.from(o)})();g();function A(o){e=!e,t.menuButton.setAttribute("aria-expanded",e),e?B():M()}function B(){n.setAttribute("data-status","menuIsOpen"),q(t.menu),requestAnimationFrame(()=>{v.forEach((o,c)=>{o.style.opacity="0",o.style.transform="translateY(-20px)",o.style.transition=`opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1) ${c*.06}s, transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) ${c*.06}s`;const r=o.querySelectorAll(".submenu .item");r.forEach((i,u)=>{i.style.opacity="0",i.style.transform="translateX(-15px)",i.style.transition=`opacity 0.3s ease ${c*.06+.2+u*.04}s, transform 0.3s ease ${c*.06+.2+u*.04}s`}),requestAnimationFrame(()=>{o.style.opacity="1",o.style.transform="translateY(0)",r.forEach(i=>{i.style.opacity="1",i.style.transform="translateX(0)"})})})})}function M(){const o=[...v].reverse();o.forEach((r,i)=>{r.style.opacity="0",r.style.transform="translateY(-10px)",r.style.transition=`opacity 0.25s ease ${i*.03}s, transform 0.25s ease ${i*.03}s`,r.querySelectorAll(".submenu .item").forEach(p=>{p.style.opacity="0",p.style.transform="translateX(-10px)",p.style.transition="opacity 0.2s ease, transform 0.2s ease"})});const c=Math.max(250,o.length*30);setTimeout(()=>{n.removeAttribute("data-status"),x(t.menu),v.forEach(r=>{r.style.opacity="",r.style.transform="",r.style.transition="",r.querySelectorAll(".submenu .item").forEach(u=>{u.style.opacity="",u.style.transform="",u.style.transition=""})})},c)}function g(){a.matches||E()}function E(){const o=document.getElementById("wpadminbar")?s+document.getElementById("wpadminbar").offsetHeight:s;document.documentElement.style.scrollPaddingTop=`${o}px`}}export{R as default};
